{% extends 'base.html' %}
{% load static %}
{% block content %}

{% if request.user.is_authenticated and request.user.user_type == 'customer' %}

<style>
    .btn:hover {
        transform: scale(1.1);
        transition: all 1s;
    }
    .order1 {
        transition: all 1s;
    }
    .order1:hover {
        transform: scale(1.1);
        transition: all 1s;
    }
</style>

<div class="text-center fs-2 text-center">
 <b style="color:rgb(238, 235, 216);"> MyOrders</b>
</div>

<!-- Pending Orders -->
<div class="row mb-2 mx-auto">
    <div class="col-sm-10 mx-auto">
        <div class="row">
            <h2 style="color:rgb(238, 235, 216);">Pending Orders</h2>
            <div class="col-sm-12">
                {% for i in pdata %}
                <div class="card mb-3 order1">
                    <div class="row g-0">
                        <div class="col-md-4">
                            <img src="/{{i.product_picture}}" style="height:180px;width:270px;" class="img-fluid rounded-start" alt="...">
                        </div>
                        <div class="col-md-8">
                            <div class="card-body">
                                <table class="table table-stripted">
                                    <tr>
                                        <th>Product Details</th>
                                        <th>Quantity</th>
                                        <th>Price</th>
                                        <th>Status</th>
                                        <th>Order Date</th>
                                        <th>Cancel</th>
                                    </tr>
                                    <tr>
                                        <td><b>{{i.product_name}}</b><br/><small>{{i.pw}} <i class="fa-solid fa-indian-rupee-sign"></i>{{i.price}}/-</small></td>
                                        <td>{{i.quantity}}</td>
                                        <td>{{i.total_price}}</td>
                                        <td><b class="badge bg-danger">{{i.status}}</b></td>
                                        <td>{{i.order_date}}</td>
                                        <td><a href="/orderslist?oid={{i.id}}" class="btn btn-sm btn-outline-danger">Cancel Order<i class="fa-solid fa-trash-can"></i></a></td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>

<!-- Accepted Orders -->
<div class="row py-3 mx-auto">
    <div class="col-sm-10 mx-auto">
        <div class="row">
            <hr/>
           <b style="color:rgb(238, 235, 216);">Accepted Orders</b>
            <div class="col-sm-12">
                {% for i in adata %}
                <div class="card mb-3 order1">
                    <div class="row g-0">
                        <div class="col-md-4">
                            <img src="/{{i.product_picture}}" style="height:180px;width:270px;" class="img-fluid rounded-start" alt="...">
                        </div>
                        <div class="col-md-8">
                            <div class="card-body">
                                <table class="table table-stripted">
                                    <tr>
                                        <th>Product Details</th>
                                        <th>Quantity</th>
                                        <th>Price</th>
                                        <th>Status</th>
                                        <th>Order Date</th>
                                    </tr>
                                    <tr>
                                        <td><b>{{i.product_name}}</b><br/><small>{{i.pw}} <i class="fa-solid fa-indian-rupee-sign"></i>{{i.price}}/-</small></td>
                                        <td>{{i.quantity}}</td>
                                        <td>{{i.total_price}}</td>
                                        <td><b class="badge bg-danger">{{i.status}}</b></td>
                                        <td>{{i.order_date}}</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>

<!-- Delivered Orders -->
<div class="row mb-2 mx-auto">
    <hr/>
    <div class="col-sm-10 mx-auto">
        <div class="row">
           <b style="color:rgb(238, 235, 216);">Delivered Orders</b>
            <div class="col-sm-12">
                {% for i in ddata %}
                <div class="card mb-3 order1">
                    <div class="row g-0">
                        <div class="col-md-4">
                            <img src="/{{i.product_picture}}" style="height:180px;width:270px;" class="img-fluid rounded-start" alt="...">
                        </div>
                        <div class="col-md-8">
                            <div class="card-body">
                                <table class="table table-stripted">
                                    <tr>
                                        <th>Product Details</th>
                                        <th>Quantity</th>
                                        <th>Price</th>
                                        <th>Status</th>
                                        <th>Order Date</th>
                                    </tr>
                                    <tr>
                                        <td><b>{{i.product_name}}</b><br/><small>{{i.pw}} <i class="fa-solid fa-indian-rupee-sign"></i>{{i.price}}/-</small></td>
                                        <td>{{i.quantity}}</td>
                                        <td>{{i.total_price}}</td>
                                        <td><b class="badge bg-danger">{{i.status}}</b></td>
                                        <td>{{i.order_date}}</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>

{% else %}
<script>
    alert('You have to login first');
    location.href = '/login/';
</script>
{% endif %}

{% endblock content %}
